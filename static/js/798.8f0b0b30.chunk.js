"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[798],{798:function(s,t,e){e.r(t),e.d(t,{default:function(){return Z}});var n=e(1413),r=e(5671),i=e(3144),o=e(136),a=e(3668),u=e(2791),c="ProfileInfo_descriptionBlock__mYF+8",l=e(3445),p=e(885),h=e(184),d=function(s){var t=s.status,e=s.changeUserStatus,n=(0,u.useState)(!1),r=(0,p.Z)(n,2),i=r[0],o=r[1],a=(0,u.useState)(t),c=(0,p.Z)(a,2),l=c[0],d=c[1];(0,u.useEffect)((function(){d(t)}),[t]);return(0,h.jsxs)("div",{children:[!i&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){o(!0)},children:l||"-------"})}),i&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{autoFocus:!0,type:"text",value:l,onBlur:function(){o(!1),e(l)},onChange:function(s){d(s.currentTarget.value)}})})]})},f=function(s){var t=s.profile,e=s.status,n=s.changeUserStatus;return t?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{}),(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("img",{src:t.photos.large,alt:""}),(0,h.jsx)(d,{status:e,changeUserStatus:n}),(0,h.jsxs)("div",{children:["About me: ",t.aboutMe," "]})]})]}):(0,h.jsx)(l.p,{})},j=e(81),x={postsBlock:"MyPosts_postsBlock__oe-je",postArea:"MyPosts_postArea__p56Xr"},g="Post_item__ZhK2W",m=function(s){return(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQw9cnEvZ98kadKb7ZIhW20sXOTNVlEsH1q4Q&usqp=CAU",alt:""}),s.message,(0,h.jsx)("div",{children:(0,h.jsxs)("span",{children:["like ",s.likeCount]})})]})},v=e(1134),k=function(s){var t=s.onPostChange,e=(0,v.cI)(),r=e.register,i=e.handleSubmit,o=e.reset;return(0,h.jsxs)("form",{onSubmit:i((function(s){t(s),o()})),children:[(0,h.jsx)("div",{children:(0,h.jsx)("textarea",(0,n.Z)({},r("newPost")))}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{type:"submit",children:"Add post"})})]})},P=(0,u.memo)((function(s){var t=s.posts,e=s.addPost,n=t.map((function(s){return(0,h.jsx)(m,{message:s.message,likeCount:s.likeCount},s.id)}));return(0,h.jsxs)("div",{className:x.postsBlock,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)("div",{className:x.postArea,children:(0,h.jsx)(k,{onPostChange:function(s){e(s.newPost)}})}),(0,h.jsx)("div",{className:x.posts,children:n})]})})),U=e(364),S=(0,U.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(t){s((0,j.Pi)(t))}}}))(P),_=function(s){return(0,h.jsxs)("main",{children:[(0,h.jsx)(f,{profile:s.profile,status:s.status,changeUserStatus:s.changeUserStatus}),(0,h.jsx)(S,{})]})},b=e(9271),y=e(7781),C=function(s){(0,o.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var s=+this.props.match.params.userId;s||(s=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"render",value:function(){return(0,h.jsx)("div",{children:(0,h.jsx)(_,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,changeUserStatus:this.props.changeUserStatus}))})}}]),e}(u.Component),Z=(0,y.qC)((0,U.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,autorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:j.et,getUserStatus:j.Tq,changeUserStatus:j.az}),b.EN)(C)}}]);
//# sourceMappingURL=798.8f0b0b30.chunk.js.map